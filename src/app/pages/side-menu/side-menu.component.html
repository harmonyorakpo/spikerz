<div class="flex">
  <div class="sidebar-container">
    <!-- Toggle Button -->
    <div class="toggle-button-wrapper">
      <div class="toggle-bg">
        <button (click)="toggleSideMenu()" class="toggle-btn">
          <img
            [src]="
              showSideMenu
                ? 'assets/icons/arrow-left.svg'
                : 'assets/icons/arrow-right.svg'
            "
            alt="toggle menu"
          />
        </button>
      </div>
    </div>

    <div class="sidebar-content" [ngClass]="{ 'expanded': showSideMenu, 'collapsed': !showSideMenu }">
      <!-- Main Menu Items -->
      <div class="main-menu">
        <ng-container *ngFor="let menuItem of menuItems; let i = index">
          <ng-container
            *ngIf="
              menuItem.title !== 'Support' &&
              menuItem.title !== 'Settings' &&
              menuItem.title !== 'Profile'
            "
          >
            <div
              class="menu-item"
              [ngClass]="{ 'active': menuItem.active || isActiveRoute(menuItem.path) }"
              (click)="navigateToRoute(menuItem.path)"
            >
              <div class="menu-icon">
                <img
                  [src]="'assets/menu-icons/' + menuItem.icon"
                  alt="{{ menuItem.title }}"
                />
              </div>
              <span
                *ngIf="showSideMenu"
                class="menu-text"
                [ngClass]="{
                  'active': menuItem.active || isActiveRoute(menuItem.path),
                  'inactive': !menuItem.active && !isActiveRoute(menuItem.path)
                }"
              >
                {{ menuItem.title }}
              </span>
            </div>
          </ng-container>
        </ng-container>
      </div>

      <!-- Secondary Menu Items (Support, Settings) -->
      <div class="secondary-menu">
        <ng-container *ngFor="let menuItem of menuItems">
          <ng-container
            *ngIf="
              menuItem.title === 'Support' || menuItem.title === 'Settings'
            "
          >
            <div
              class="secondary-menu-item"
              [ngClass]="{ 'active': menuItem.active || isActiveRoute(menuItem.path) }"
              (click)="navigateToRoute(menuItem.path)"
            >
              <div class="menu-icon">
                <img
                  [src]="'assets/menu-icons/' + menuItem.icon"
                  alt="{{ menuItem.title }}"
                />
              </div>
              <span
                *ngIf="showSideMenu"
                class="menu-text"
                [ngClass]="{
                  'active': menuItem.active || isActiveRoute(menuItem.path),
                  'inactive': !menuItem.active && !isActiveRoute(menuItem.path)
                }"
              >
                {{ menuItem.title }}
              </span>
            </div>
          </ng-container>
        </ng-container>
      </div>

      <!-- User Profile Section -->
      <div class="user-profile">
        <div class="user-avatar">
          <span>
            <img
              src="assets/menu-icons/profile.png"
              alt="User Avatar"
            />
          </span>
        </div>
        <div *ngIf="showSideMenu" class="user-info">
          <div class="user-name">
            <p>Hello Harmony</p>
          </div>
          <p class="user-email">user&#64;spike.com</p>
        </div>
        <img
          *ngIf="showSideMenu"
          class="logout-btn"
          src="assets/menu-icons/logout.png"
          alt="logout icon"
          (click)="logout()"
        />
      </div>
    </div>
  </div>
</div>